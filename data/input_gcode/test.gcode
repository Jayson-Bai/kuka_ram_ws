; ======================================================
; 双挤出头曲面示例（T0/T1） + 姿态 A/B/C (roll/pitch/yaw)
; 仍然为标准 Marlin 风格扩展
; ======================================================

M140 S60            ; 热床 60°C
M104 T0 S200        ; T0 喷头 200°C
M104 T1 S205        ; T1 喷头 205°C
M190 S60            ; 等热床
M109 T0 S200        ; 等 T0
M109 T1 S205        ; 等 T1

G21                 ; mm
G90                 ; 绝对坐标
M82                 ; 挤出绝对模式
G28                 ; 回零
G29                 ; 调平

M106 S128           ; 中速风扇

; ======================================================
; ***** 使用 T0 打印底层 *****
; ======================================================
T0                  ; 切换到喷头 T0
G92 E0              ; T0 挤出归零
G1 Z0.20 F3000

; prime line
G1 X10 Y10 Z0.20 A0 B0 C0 F6000
G1 E0.8 F1500
G1 X10 Y100 Z0.20 A0 B0 C0 E3.2 F1200
G1 X12 Y100 Z0.20 A0 B0 C5 E3.8 F1200
G1 E3.4 F1800
G92 E0

; -------------------------
; 第一层外轮廓（T0）
; -------------------------
G1 X20 Y20 Z0.20 A0 B0 C5 F9000
G1 E0.5 F1500
G1 X40 Y22 Z0.20 A0 B0 C10 E1.4 F1200
G1 X60 Y28 Z0.20 A0 B1 C15 E2.6 F1200
G1 X80 Y40 Z0.20 A0.5 B2 C20 E4.0 F1200
G1 X100 Y60 Z0.20 A0.5 B3 C25 E5.5 F1200

; 内轮廓
G1 E5.1 F2400
G1 X22 Y22 Z0.20 A0 B0 C6 F9000
G1 E5.7 F1800
G1 X39 Y23 Z0.20 A0 B0.5 C11 E6.3 F1500
G1 X59 Y29 Z0.20 A0 B1 C16 E7.2 F1500
G1 X78 Y41 Z0.20 A0.3 B1.8 C21 E8.2 F1500
G1 X97 Y58 Z0.20 A0.5 B2.5 C24 E9.3 F1500

; 混合填充
G1 E8.9 F2400
G1 X30 Y25 Z0.20 A0 B0.5 C8 F9000
G1 E9.5 F1800
G1 X90 Y55 Z0.20 A0 B1 C22 E12.0 F1800

; ======================================================
; ***** 切换到 T1（带自动回抽与抬头） *****
; ======================================================
G1 E11.5 F2400             ; 回抽 T0
G1 Z3 F3000                ; 抬头防止刮擦
G1 X140 Y10 F6000          ; 移到换头区（假设在右侧）
G1 E11.0 F2400             ; 再回抽一点，避免滴料

T1                         ; 切换到喷头 T1
G92 E0                     ; T1 挤出归零
G1 Z0.25 F1500             ; 放到新层高度

; **** T1 预挤出清洁 ****
G1 X120 Y10 Z0.25 A0 B0 C0 F6000
G1 E0.8 F1500
G1 X120 Y60 Z0.25 A0 B0 C0 E3.0 F1200
G1 E2.7 F1800
G92 E0

; ======================================================
; ***** 使用 T1 打印第二层（颜色 / 材质2）*****
; ======================================================

; 外轮廓 - T1
G1 X22 Y22 Z0.40 A0 B2 C7 F9000
G1 E0.6 F1600
G1 X40 Y23 Z0.40 A0 B2 C12 E1.4 F1500
G1 X60 Y29 Z0.40 A0 B2.5 C17 E2.3 F1500
G1 X79 Y41 Z0.40 A0.3 B3.0 C22 E3.3 F1500
G1 X98 Y59 Z0.40 A0.5 B3.5 C26 E4.4 F1500

; 内轮廓 - T1
G1 E4.0 F2400
G1 X24 Y23 Z0.40 A0 B2 C8 F9000
G1 E4.7 F1800
G1 X39 Y24 Z0.40 A0 B2.3 C13 E5.3 F1500
G1 X58 Y30 Z0.40 A0 B2.7 C18 E6.1 F1500
G1 X77 Y42 Z0.40 A0.3 B3.2 C22.5 E7.1 F1500
G1 X95 Y57 Z0.40 A0.5 B3.7 C25.5 E8.2 F1500

; 圆弧+姿态（T1）
G1 E7.9 F2400
G1 X30 Y25 Z0.60 A0 B3 C10 F9000
G1 E8.6 F1800


; 填充（T1）
G1 E11.5 F2400
G1 X38 Y28 Z0.60 A0 B3.2 C13 F9000
G1 E12.3 F1800
G1 X90 Y57 Z0.60 A0 B3.8 C24 E14.8 F1800

; ======================================================
; ***** 切回 T0（可继续打印上层）*****
; ======================================================
G1 E14.4 F2400
G1 Z2.5 F3000
G1 X140 Y20 F6000
G1 E14.0 F2400

T0
G92 E0
G1 Z0.80 F1500

; 顶层扫平 - T0
G1 X30 Y30 Z1.00 A0 B6 C12 F9000
G1 E0.8 F1800
G1 X90 Y60 Z1.00 A0 B6 C24 E3.2 F1800
G1 X30 Y35 Z1.00 A0 B6.5 C13 E5.6 F1800

; ======================================================
; 收尾
; ======================================================
T0                     ; 回到主喷头
G1 E5.0 F2400          ; 最后回抽
G1 Z10 F2000
G1 X0 Y200 F6000
M104 T0 S0
M104 T1 S0
M140 S0
M107
M84
; ===== 打印结束 =====
